@import "tailwindcss";

/* - Tailwind v4 Manual Dark Mode Variant */
@custom-variant dark (&:where(.dark, .dark *));

@theme {
  --font-josefin: var(--font-josefin), ui-sans-serif, system-ui, sans-serif;
  --font-vibes: var(--font-vibes), cursive;
  --font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;

  /* - Global Color Palette (Light Mode - White & Navy Theme) */
  --color-background: #ffffff;
  --color-foreground: #0f172a; /* Navy (slate-900) */

  --color-text-high: #0f172a;
  --color-text-medium: #334155; /* slate-700 */
  --color-text-low: #64748b; /* slate-500 */

  --color-primary: #1e3a8a; /* Navy Blue (blue-900) */
  --color-secondary: #0ea5e9; /* Sky Blue Accent */

  --color-ui-focus: #f1f5f9; /* slate-100 */

  --color-success: #15803d; /* green-700 */
  --color-warning: #a16207; /* yellow-700 */
  --color-error: #b91c1c; /* red-700 */
  --color-info: #0369a1; /* sky-700 */
}

/* - Manual Theme Overrides (.dark class - Premium Navy Dark Theme) */
.dark {
  --color-background: #0f172a; /* Navy (slate-900) */
  --color-foreground: #ffffff;

  --color-text-high: #ffffff;
  --color-text-medium: #cbd5e1; /* slate-300 */
  --color-text-low: #94a3b8; /* slate-400 */

  --color-primary: #60a5fa; /* Light Blue (blue-400) */
  --color-secondary: #38bdf8; /* Sky Blue Accent */

  --color-ui-focus: #1e293b; /* slate-800 */

  --color-success: #4ade80; /* green-400 */
  --color-warning: #facc15; /* yellow-400 */
  --color-error: #f87171; /* red-400 */
  --color-info: #38bdf8; /* sky-400 */
}

/* - System Theme Overrides (OS Preference) */
@media (prefers-color-scheme: dark) {
  :root:not(.light) {
    --color-background: #0f172a;
    --color-foreground: #ffffff;

    --color-text-high: #ffffff;
    --color-text-medium: #cbd5e1;
    --color-text-low: #94a3b8;

    --color-primary: #60a5fa;
    --color-secondary: #38bdf8;

    --color-ui-focus: #1e293b;

    --color-success: #4ade80;
    --color-warning: #facc15;
    --color-error: #f87171;
    --color-info: #38bdf8;
  }
}

@layer base {
  html {
    scroll-behavior: smooth;
    scrollbar-gutter: stable;
  }

  body {
    font-family: var(--font-josefin), ui-sans-serif, system-ui, sans-serif;
    @apply bg-background text-foreground antialiased;

    min-height: 100dvh;
    text-rendering: optimizeLegibility;
    overflow-x: hidden;
    transition:
      background-color 0.5s cubic-bezier(0.4, 0, 0.2, 1),
      color 0.5s cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* - Universal component border standard */
  /* Auto-adapts to light/dark because it mixes with the current --color-primary */
  * {
    border-color: color-mix(in srgb, var(--color-primary) 15%, transparent);
  }

  /* --- Premium Scrollbar --- */
  * {
    scrollbar-width: thin;
    scrollbar-color: var(--color-primary) transparent;
  }

  ::-webkit-scrollbar {
    width: 5px;
  }

  ::-webkit-scrollbar-track {
    background: transparent;
  }

  ::-webkit-scrollbar-thumb {
    background: var(--color-primary);
    @apply rounded-full opacity-50 transition-opacity hover:opacity-100;
  }
}

/* - View Transitions for Theme Toggle */
::view-transition-old(root),
::view-transition-new(root) {
  animation: none;
  mix-blend-mode: normal;
  animation-duration: 0;
}
::view-transition-group(root) {
  animation-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
}

/* React Big Calendar Custom Types */
.rbc-calendar {
  @apply font-sans;
}

.rbc-header {
  @apply py-4 text-xs font-bold uppercase tracking-widest text-slate-500 border-b border-slate-100 dark:border-slate-800 bg-slate-50/50 dark:bg-slate-900/50;
}

.rbc-time-header-content {
  @apply border-slate-100 dark:border-slate-800;
}

.rbc-time-view {
  @apply rounded-3xl border border-slate-200 bg-white shadow-sm dark:bg-slate-900 dark:border-slate-800 overflow-hidden;
}

.rbc-time-content {
  @apply border-t border-slate-100 dark:border-slate-800;
}

.rbc-timeslot-group {
  @apply border-b border-slate-50 dark:border-slate-800/50 min-h-[60px];
}

.rbc-time-slot {
  @apply text-xs text-slate-400;
}

.rbc-day-slot .rbc-event {
  @apply border-none! bg-transparent! p-0! outline-none! focus:outline-none!;
}

.rbc-current-time-indicator {
  @apply relative! h-[2px]! bg-rose-500!;
}

.rbc-current-time-indicator::before {
  content: "";
  @apply absolute -left-1.5 -top-1.5 w-3 h-3 bg-rose-500 rounded-full shadow-sm;
}

.rbc-today {
  @apply bg-blue-50/20 dark:bg-blue-900/10;
}

.rbc-label {
  @apply text-xs font-semibold text-slate-400 px-2;
}

/* Hide default borders that look ugly */
.rbc-time-view .rbc-header {
  border-bottom: none;
}
.rbc-day-slot .rbc-time-slot {
  border-top: none;
}
