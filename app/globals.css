@import "tailwindcss";

/* - Tailwind v4 Manual Dark Mode Variant */
@custom-variant dark (&:where(.dark, .dark *));

@theme {
  --font-josefin: var(--font-josefin), ui-sans-serif, system-ui, sans-serif;
  --font-vibes: var(--font-vibes), cursive;
  --font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;

  /* --- Custom Breakpoints --- */
  --breakpoint-xs: 400px;

  /* - Global Color Palette (Light Mode - Modern Professional Theme) */
  --color-background: #fafaf9; /* stone-50 */
  --color-foreground: #0f172a; /* slate-900 */

  --color-text-high: #0f172a; /* slate-900 */
  --color-text-medium: #475569; /* slate-600 */
  --color-text-low: #94a3b8; /* slate-400 */

  --color-primary: #0ea5e9; /* sky-500 */
  --color-secondary: ;

  --color-ui-focus: #f1f5f9; /* slate-100 */

  --color-success: #22c55e; /* green-500 */
  --color-warning: #eab308; /* yellow-500 */
  --color-error: #ef4444; /* red-500 */
  --color-info: #0ea5e9; /* sky-500 */
}

/* - Manual Theme Overrides (.dark class - Premium Dark Theme) */
.dark {
  --color-background: #020617; /* slate-950 */
  --color-foreground: #f8fafc; /* slate-50 */

  --color-text-high: #f8fafc; /* slate-50 */
  --color-text-medium: #cbd5e1; /* slate-300 */
  --color-text-low: #64748b; /* slate-500 */

  --color-primary: #0ea5e9; /* sky-500 */
  --color-secondary: ;

  --color-ui-focus: #0f172a; /* slate-900 */

  --color-success: #4ade80; /* green-400 */
  --color-warning: #facc15; /* yellow-400 */
  --color-error: #f87171; /* red-400 */
  --color-info: #38bdf8; /* sky-400 */
}

/* - System Theme Overrides (OS Preference) */
@media (prefers-color-scheme: dark) {
  :root:not(.light) {
    --color-background: #020617;
    --color-foreground: #f8fafc;

    --color-text-high: #f8fafc;
    --color-text-medium: #cbd5e1;
    --color-text-low: #64748b;

    --color-primary: #0ea5e9;
    --color-secondary: ;

    --color-ui-focus: #0f172a;

    --color-success: #4ade80;
    --color-warning: #facc15;
    --color-error: #f87171;
    --color-info: #38bdf8;
  }
}

@layer base {
  html {
    scroll-behavior: smooth;
    scrollbar-gutter: stable;
  }

  body {
    font-family: var(--font-josefin), ui-sans-serif, system-ui, sans-serif;
    @apply bg-background text-foreground antialiased;

    min-height: 100dvh;
    text-rendering: optimizeLegibility;
    overflow-x: hidden;
    transition:
      background-color 0.5s cubic-bezier(0.4, 0, 0.2, 1),
      color 0.5s cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* - Universal component border standard */
  /* Auto-adapts to light/dark because it mixes with the current --color-primary */
  * {
    border-color: color-mix(in srgb, var(--color-primary) 15%, transparent);
  }

  /* --- Premium Scrollbar --- */
  * {
    scrollbar-width: thin;
    scrollbar-color: var(--color-primary) transparent;
  }

  ::-webkit-scrollbar {
    width: 5px;
  }

  ::-webkit-scrollbar-track {
    background: transparent;
  }

  ::-webkit-scrollbar-thumb {
    background: var(--color-primary);
    @apply rounded-full opacity-50 transition-opacity hover:opacity-100;
  }
}

/* - View Transitions for Theme Toggle */
::view-transition-old(root),
::view-transition-new(root) {
  animation: none;
  mix-blend-mode: normal;
  animation-duration: 0;
}
::view-transition-group(root) {
  animation-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
}
